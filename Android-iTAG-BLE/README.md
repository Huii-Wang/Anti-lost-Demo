# 安卓 iTAG BLE DEMO

## 1.代码思路
    1.检查及初始化相关设置 api版本大于等于19 需要使用权限 蓝牙权限 定位权限
    2.发起扫描，对扫描结果进行筛选
    3.连接目标设备
    4.监听通知服务，获取到BLE发送到手机上的消息（接受防丢器按键消息）
    5.发送消息，给防丢器发送报警/取消报警命令
    6.断开APP防丢器BLE的连接



## 2.Demo使用方法
    1.打开手机蓝牙，安卓手机确认打开微信定位权限
    2.点击开始扫描，设备会自动连
    3.提示成功后，按下：发送防丢器响铃命令，设备开始报警
    4.按下停止响铃按钮，防丢器停止响铃
    5.按下设备上按键，在小程序控制台控制台可以看到设备发送来的打印消息

## 3.小程序BLE连接步骤与代码思路
    1.打开蓝牙适配器 判断用户的蓝牙设备是否可用
        如果不可以用，用户可以进行适当处理
        如果蓝牙可用，直接进行扫描

    2.开始进行设备扫描 获得设备列表

    3.对扫描结果进行过滤，符合条件的设备进行连接

    4.获取蓝牙的服务和特征
        可写特征:小程序可以向该特征写入消息，发送命令
        可订阅特征：开发者可以订阅该特征，蓝牙设备可以通过该特征，以通知的方式告知开发者，

    4.监听防丢器设备发来的按键消息

    5.向防丢器发送消息，控制防丢器的响铃与不响铃

## 4.技术支持
    王工
    微信：17512013035
    QQ:    522915201
![image](./图片/wx.JPG)
